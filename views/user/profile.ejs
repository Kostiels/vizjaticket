<div class="container">
  <nav aria-label="breadcrumb" class="mb-4">
      <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="/">Strona główna</a></li>
          <li class="breadcrumb-item active" aria-current="page">Profil użytkownika</li>
      </ol>
  </nav>

  <h1 class="mb-4">Profil użytkownika</h1>
  
  <div class="row">
      <div class="col-md-8">
          <div class="card mb-4">
              <div class="card-header">
                  <h5 class="mb-0">Dane osobowe</h5>
              </div>
              <div class="card-body">
                  <form action="/user/profile" method="POST">
                      <div class="mb-3">
                          <label for="name" class="form-label">Imię i nazwisko</label>
                          <input type="text" class="form-control" id="name" name="name" value="<%= user.name %>" required>
                      </div>
                      <div class="mb-3">
                          <label for="email" class="form-label">Email</label>
                          <input type="email" class="form-control" id="email" value="<%= user.email %>" disabled>
                          <small class="text-muted">Adres email nie może zostać zmieniony.</small>
                      </div>
                      <div class="mb-3">
                          <label for="phone" class="form-label">Telefon</label>
                          <input type="tel" class="form-control" id="phone" name="phone" value="<%= user.phone || '' %>">
                      </div>
                      <hr>
                      <h6>Adres</h6>
                      <div class="mb-3">
                          <label for="street" class="form-label">Ulica i numer</label>
                          <input type="text" class="form-control" id="street" name="street" value="<%= user.address?.street || '' %>">
                      </div>
                      <div class="mb-3">
                          <label for="city" class="form-label">Miasto</label>
                          <input type="text" class="form-control" id="city" name="city" value="<%= user.address?.city || '' %>">
                      </div>
                      <div class="row mb-3">
                          <div class="col-md-6">
                              <label for="zipCode" class="form-label">Kod pocztowy</label>
                              <input type="text" class="form-control" id="zipCode" name="zipCode" value="<%= user.address?.zipCode || '' %>">
                          </div>
                          <div class="col-md-6">
                              <label for="country" class="form-label">Kraj</label>
                              <input type="text" class="form-control" id="country" name="country" value="<%= user.address?.country || 'Polska' %>">
                          </div>
                      </div>
                      <button type="submit" class="btn btn-primary">Zapisz zmiany</button>
                  </form>
              </div>
          </div>
      </div>

      <div class="col-md-4">
          <div class="card mb-4">
              <div class="card-header">
                  <h5 class="mb-0">Informacje o koncie</h5>
              </div>
              <div class="card-body">
                  <div class="d-flex justify-content-between mb-3">
                      <span>Status:</span>
                      <span class="badge bg-success">Aktywne</span>
                  </div>
                  <div class="d-flex justify-content-between mb-3">
                      <span>Rola:</span>
                      <span><%= user.role === 'admin' ? 'Administrator' : 'Użytkownik' %></span>
                  </div>
                  <div class="d-flex justify-content-between">
                      <span>Data rejestracji:</span>
                      <span>
                          <%= new Date(user.createdAt).toLocaleDateString('pl-PL') %>
                      </span>
                  </div>
              </div>
          </div>

          <div class="card mb-4">
              <div class="card-header">
                  <h5 class="mb-0">Akcje</h5>
              </div>
              <div class="card-body">
                  <div class="d-grid gap-2">
                      <a href="/reservations" class="btn btn-primary">
                          <i class="fas fa-ticket-alt me-1"></i> Moje rezerwacje
                      </a>
                      <a href="/user/change-password" class="btn btn-outline-secondary">
                          <i class="fas fa-key me-1"></i> Zmień hasło
                      </a>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>
